/*!
 * jodit-pro - PRO Version of Jodit Editor
 * Author: Chupurnov Valeriy <chupurnov@gmail.com>
 * Version: v4.1.14
 * Url: https://xdsoft.net/jodit/pro/
 * License(s): SEE LICENSE IN LICENSE.md
 */


((e,t)=>{if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var s in o)("object"==typeof exports?exports:e)[s]=o[s]}})(self,(function(){return(self.webpackChunkjodit_pro=self.webpackChunkjodit_pro||[]).push([[502],{68903(e){e.exports='<svg stroke="black" stroke-linejoin="round" stroke-linecap="round" stroke-width="28" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"> \x3c!-- <rect fill="none" height="256" width="256"/>--\x3e <line fill="none" x1="130" x2="241" y1="54" y2="54"/> <line fill="none" x1="130" x2="241" y1="128" y2="128"/> <line fill="none" x1="130" x2="241" y1="202" y2="202"/> <polyline fill="none" points="92 38 57.3 70 40 54"/> <polyline fill="none" points="92 112 57.3 144 40 128"/> <polyline fill="none" points="92 186 57.3 218 40 202"/> </svg>'},29190(e,t,o){"use strict";var s=o(23545),i=o(80004),l=o(68903),a=o.n(l),n=o(91288);n.T.prototype.todoList={className:"todo-list",labelClassName:"todo-list__label",inputFactory(e){return e.createInside.element("input",{type:"checkbox",tabindex:-1})}},n.T.prototype.controls.todoList={tooltip:"To-do List",icon:"todo-list",command:"todolist",isActive(e){const t=e.s.current();return!(!t||!s.J.closest(t,(e=>s.J.isElement(e)&&s.J.isTag(e,"ul")&&e.classList.contains("todo-list")),e.editor))}},i.I.set("todo-list",a())},77185(e,t,o){"use strict";o.r(t),o.d(t,{TodoList(){return d}});var s=o(31635),i=o(67259),l=o(53557),a=o(23545),n=o(71122),r=o(65564),p=o(66923),c=(o(29190),o(25511));class d extends r.k{constructor(){super(...arguments),this.buttons=[{name:"todoList",group:"list"}],this.__isOwnCommand=!1}afterInit(e){e.registerCommand("todoList",this.onCommand)}onCommand(){try{this.__isOwnCommand=!0,this.jodit.s.commitStyle({element:"ul",attributes:{class:this.j.o.todoList.className},hooks:{afterWrapList:this.__afterWrapList,afterToggleAttribute:this.__afterWrapList}})}finally{this.__isOwnCommand=!1}return!1}__prependInputLabel(e){const{jodit:t}=this,{labelClassName:o,inputFactory:s}=this.j.o.todoList;if(e.querySelector("label."+o))return;const i=t.createInside.element("label",{contenteditable:"false",class:o}),l=s(t);i.appendChild(l),a.J.prepend(e,i)}__afterToggleList(e,t){return e!==p.PL&&e!==p.dj||!this.__isOwnCommand?e===p.OJ||e===p.dj||e===p.PL?this.__removeInputs(t):void 0:this.__appendInputs(t)}__appendInputs(e){e.querySelectorAll("li").forEach(this.__prependInputLabel)}__removeInputs(e){const{labelClassName:t}=this.j.o.todoList;e.querySelectorAll("label."+t).forEach(a.J.safeRemove)}__beforeToggleOrderedList(e,t,o){const s="__beforeToggleOrderedList";if(e!==p.dj&&(t.classList.contains(this.j.o.todoList.className)||o.isApplied(t,s))&&("ul"===o.element||"ol"===o.element)&&o.options.attributes?.class!==this.j.o.todoList.className){const e=a.J.replace(t,o.element,this.jodit.createInside);return o.setApplied(e,s),this.__removeInputs(e),e}}__afterEnter(){(0,n.$$)("ul."+this.j.o.todoList.className+" li",this.jodit.editor).forEach(this.__prependInputLabel)}__afterTab(){(0,n.$$)("ul:not(."+this.j.o.todoList.className+") > li > label",this.jodit.editor).filter(this.isTodoLeafLabel).forEach(a.J.safeRemove)}__changeSelection(e){const t=this.j.s.current();this.isTodoLeafLabel(t)&&(e.preventDefault(),e.stopPropagation(),this.j.s.setCursorAfter(t))}__isEmptyListLeaf(e){return a.J.isEmpty(e,(e=>("input"!==e.nodeName.toLowerCase()||!this.isTodoLeafLabel(e.parentElement))&&i.NO_EMPTY_TAGS.has(e.tagName.toLowerCase())))}__backSpaceBeforeCases(e,t){if(e){const e=a.J.findNotEmptySibling(t,!0);this.isTodoLeafLabel(e)&&a.J.safeRemove(e)}}__isInvisibleForCursor(e){if(this.isTodoLeafLabel(e))return!0}__backSpaceAfterDelete(){const{labelClassName:e}=this.j.o.todoList;(0,n.$$)("label."+e,this.jodit.editor).forEach((e=>{e.closest("ul."+this.j.o.todoList.className)?e.previousSibling&&e.parentElement&&a.J.prepend(e.parentElement,e):a.J.safeRemove(e)}))}__afterWrapList(e,t){e===p.Zk&&this.__appendInputs(t)}__onClickInput(e){const t=e.target;t&&a.J.isTag(t,"input")&&"checkbox"===t.type&&this.isTodoLeafLabel(t.parentElement)&&(0,n.attr)(t,"checked",t.checked?"checked":null)}isTodoLeafLabel(e){const{labelClassName:t}=this.j.o.todoList;return a.J.isHTMLElement(e)&&e.classList.contains(t)}beforeDestruct(e){}}d.requires=["license"],(0,s.Cg)([l.autobind],d.prototype,"onCommand",null),(0,s.Cg)([l.autobind],d.prototype,"__prependInputLabel",null),(0,s.Cg)([(0,l.watch)(":commitStyleAfterToggleList")],d.prototype,"__afterToggleList",null),(0,s.Cg)([(0,l.watch)(":commitStyleBeforeUnwrapList")],d.prototype,"__beforeToggleOrderedList",null),(0,s.Cg)([(0,l.watch)(":afterEnter")],d.prototype,"__afterEnter",null),(0,s.Cg)([(0,l.watch)(":afterTab")],d.prototype,"__afterTab",null),(0,s.Cg)([(0,l.watch)("j.ed:selectionchange"),(0,l.watch)(":afterEnter")],d.prototype,"__changeSelection",null),(0,s.Cg)([(0,l.watch)(":enterIsEmptyListLeaf")],d.prototype,"__isEmptyListLeaf",null),(0,s.Cg)([(0,l.watch)(":backSpaceBeforeCases")],d.prototype,"__backSpaceBeforeCases",null),(0,s.Cg)([(0,l.watch)(":backSpaceIsMovedIgnore"),(0,l.watch)(":isInvisibleForCursor")],d.prototype,"__isInvisibleForCursor",null),(0,s.Cg)([(0,l.watch)(":backSpaceAfterDelete")],d.prototype,"__backSpaceAfterDelete",null),(0,s.Cg)([l.autobind],d.prototype,"__afterWrapList",null),(0,s.Cg)([(0,l.watch)(":click")],d.prototype,"__onClickInput",null),(0,s.Cg)([l.autobind],d.prototype,"isTodoLeafLabel",null),c.A.plugins.add("todo-list",d)}},e=>e(e.s=77185)])}));